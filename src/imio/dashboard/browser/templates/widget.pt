<div class="faceted-widget faceted-tagscloud-widget faceted-tagscloud-collection-widget">
  <ul>
    <tal:categories repeat="grouped_element python: view.grouped_vocabulary.items()">
      <tal:category define="category python:grouped_element[0];
                            elements python:grouped_element[1];">
        <div class="title" tal:content="python: category[1]">Category title</div>
        <tal:items repeat="term elements">
          <li tal:define="
            wid python:view.data.getId();
            term_id python:term[0];
            term_label python:term[1];
            term_label python:view.translate(term_label);
            wbr_term_label python:view.word_break(term_label);"
            tal:attributes="
            value python:term_id;
            title term_label;
            id string:${wid}${term_id};
            class python: not category[0] and 'no-category-tag' or '';">
               <a href="#"
                  tal:attributes="href string:${view/base_url}&${wid}=${term_id};"
                  tal:content="wbr_term_label" />
          </li>
        </tal:items>
      </tal:category>
    </tal:categories>
  </ul>
</div>
